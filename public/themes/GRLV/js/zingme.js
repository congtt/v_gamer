if(!window.ZM){ZM={}}if(!ZM.locale){ZM.locale="en_US"}if(!ZM.localeIsRTL){ZM.localeIsRTL=false}if(!window.ZM){window.ZM={}}if(!window.ZM.Share){ZM.Share={results:{},resetUrls:function(){this.urls={};this.urlsA=[]},addQS:function(f,a){var h=[];for(var g in a){if(a[g]){h.push(g.toString()+"="+encodeURIComponent(a[g]))}}return f+"?"+h.join("&")},getUrl:function(b){return b.getAttribute("share_url")||window.location.href},getType:function(b){return b.getAttribute("type")||"icon"},pretty:function(b){return b>=10000000?Math.round(b/1000000)+"M":(b>=10000?Math.round(b/1000)+"K":b)},getMeta:function(j){var m=document.getElementsByTagName("meta");var k="";for(var n=0;n<m.length;n++){if(m[n].getAttribute("name")!=null&&m[n].getAttribute("name").toLowerCase()=="description"){k=m[n].getAttribute("content");break}}if(k==""){var i=document.getElementsByTagName("p");if(i.length>0){try{for(var l in i){if(i[l].getAttribute("class").toLowerCase().indexOf("title")==-1){k=this.stripTags(i[l].innerHTML);break}}}catch(h){}}}return k},stripTags:function(p,o){var i="",n=false;var q=[];var v=[];var k="";var s=0;var t="";var r="";var u=function(a,b,c){return c.split(a).join(b)};if(o){v=o.match(/([a-zA-Z0-9]+)/gi)}p+="";q=p.match(/(<\/?[\S][^>]*>)/gi);for(i in q){if(isNaN(i)){continue}r=q[i].toString();n=false;for(t in v){k=v[t];s=-1;if(s!=0){s=r.toLowerCase().indexOf("<"+k+">")}if(s!=0){s=r.toLowerCase().indexOf("<"+k+" ")}if(s!=0){s=r.toLowerCase().indexOf("</"+k)}if(s==0){n=true;break}}if(!n){p=u(r,"",p)}}return p},getImages:function(j){var k=document.getElementsByTagName("img");var g=new Array();for(var l=0;l<k.length;l++){if(k[l].getAttribute("src")!=null&&k[l].getAttribute("src").search(/jpg/i)!=-1){var i=k[l].getAttribute("src");var h=i.indexOf("/");if(h!=-1){if(h==0){i=(i.indexOf("http://")==-1)?"http://"+document.domain+i:i}else{i=(i.indexOf("http://")==-1)?"http://"+document.domain+"/"+i:i}}else{if(h==-1){i=location.href+i}}if(i!=""){g.push(i);if(g.length>=5){break}}}}return g.join(",")},updateButton:function(c){var d=this.getUrl(c);if(this.results[d]){c.zm_count=this.results[d].share_count}this.displayBox(c,3)},displayBox:function(g,h){if(typeof(g.zm_count)=="number"&&g.zm_count>=h){for(var f=1;f<=2;f++){var e=g.firstChild.childNodes[f];e.className=e.className.replace("zm_share_no_count","");if(f==2){e.lastChild.innerHTML=this.pretty(g.zm_count)}}}},renderButton:function(p){var q=this.getUrl(p);var k=this.getMeta(p);var m=this.getImages(p);var r=this.getType(p);var j=p.innerHTML.length>0?p.innerHTML:"";p.setAttribute("link_share",this.addQS("http://link.apps.zing.vn/pro/view/conn/share",{u:q,t:q==window.location.href?document.title:"",desc:k,images:m}));p.href=q;p.onclick=function(){if(!p.zm_clicked){p.zm_count+=1;ZM.Share.displayBox(this,1);p.zm_clicked=true}if(navigator.userAgent.indexOf("MSIE")!=-1){winDef="scrollbars=no,status=no,toolbar=no,location=no,menubar=no,resizable=yes,height=430,width=550,top=".concat((screen.height-500)/2).concat(",left=").concat((screen.width-500)/2)}else{winDef="scrollbars=no,status=no,toolbar=no,location=no,menubar=no,resizable=no,height=400,width=550,top=".concat((screen.height-500)/2).concat(",left=").concat((screen.width-500)/2)}window.open(p.getAttribute("link_share"),"_blank",winDef);return false};p.style.textDecoration="none";if(!this.results[q]&&(r.indexOf("count")>=0)){this.urls[q]=true;this.urlsA.push(q)}var l="";if(r.indexOf("icon")>=0){var o=j==""?"ZMConnectIcon":"ZMConnectIcon_Text";l=l.concat("<span class='"+o+"' style='cursor:pointer;'>").concat((j=="")?"&nbsp;":j).concat("</span>")}else{if(r.indexOf("button")>=0){var n=j==""?"ZMConnectButton":"ZMConnectButton_Text";l=l.concat("<span class='"+n+"' style='cursor:pointer;'>").concat((j=="")?"&nbsp;":j).concat("</span>")}else{if(r.indexOf("apps")>=0){var n=j==""?"ZMConnectApp":"ZMConnectApp_Text";l=l.concat("<span class='"+n+"' style='cursor:pointer;'>").concat((j=="")?"&nbsp;":j).concat("</span>")}}}p.zm_rendered=true},insert:function(b){(document.getElementsByTagName("HEAD")[0]||document.body).appendChild(b)},renderAll:function(h){var c=document.getElementsByName("zm_share");var g=c.length;for(var f=0;f<g;f++){if(!c[f].zm_rendered){this.renderButton(c[f])}if(this.getType(c[f]).indexOf("count")>=0&&!c[f].zm_count&&this.results[this.getUrl(c[f])]){this.updateButton(c[f])}}},stopScan:function(){clearInterval(ZM.Share.scanner);ZM.Share.renderPass()},renderPass:function(){ZM.Share.renderAll()},_onFirst:function(){var b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href="http://wb.me.zing.vn/index.php?wb=LINK&t=css&c=share_button";this.resetUrls();this.renderPass();this.scanner=setInterval(ZM.Share.renderPass,700);if(window.attachEvent){window.attachEvent("onload",ZM.Share.stopScan)}else{window.addEventListener("load",ZM.Share.stopScan,false)}}};ZM.Share._onFirst()}if(!window.ZM){ZM={}}if(!ZM.Loader){ZM.Loader={loaded:{},loading:{},loadedCss:{},loadedCallback:null,onScriptLoaded:function(h){var g=h.length;for(var f=0;f<g;f++){var c=h[f];ZM.Loader.loaded[c]=true}if(ZM.Loader.loadedCallback){window.setTimeout(function(){ZM.Loader.loadedCallback(h)},0)}}}}ZM.Loader.onScriptLoaded(["ZM.Share","ZM.Loader"]); 